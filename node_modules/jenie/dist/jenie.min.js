/*
			name: jenie
		version: 1.2.10
		license: mpl-2.0
		author: alexander elias

		This Source Code Form is subject to the terms of the Mozilla Public
		License, v. 2.0. If a copy of the MPL was not distributed with this
		file, You can obtain one at http://mozilla.org/MPL/2.0/.
	*/
(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b():'function'==typeof define&&define.amd?define('Jenie',b):a.Jenie=b()})(this,function(){'use strict';function a(){}function b(T){Object.defineProperty(this,'data',{value:T||[]})}function c(){this.data=new q}function d(){}function h(T){var U=this;if(!T)throw new Error('Component missing options');if(!T.name)throw new Error('Component missing options.name');if(!T.template)throw new Error('Component missing options.template');U.name=T.name,U.model=T.model,U.modifiers=T.modifiers,U.currentScript=document._currentScript||document.currentScript,U.template=U._template(T.template),U.elementPrototype=Object.create(HTMLElement.prototype),U.elementPrototype.attachedCallback=T.attached,U.elementPrototype.detachedCallback=T.detached,U.elementPrototype.attributeChangedCallback=T.attributed,U.elementPrototype.createdCallback=function(){var V=this,W=document.importNode(U.template.content,!0);V.uuid=D();var X=V.querySelectorAll('[slot]');if(0<X.length)for(var Y=0,Z=X.length;Y<Z;Y++){var $=X[Y],aa=$.getAttribute('slot'),ba=W.querySelector('slot[name='+aa+']');ba.parentNode.replaceChild($,ba)}V.appendChild(W),U.model?V.binder=new C({view:V,name:V.uuid,model:U.model,modifiers:U.modifiers},function(){var ca=this;V.model=ca.model.data,V.view=ca.view.data,T.created&&T.created.call(V)}):T.created&&T.created.call(V)},U._define()}function j(){this.events={}}function k(T){var U=this;T=T||{},G.call(U),U.state={},U.cache={},U.origin=window.location.origin,U.external=T.external,U.routes=T.routes||[],U.view=T.view||'j-view',U.hash=!!T.hash&&T.hash,U.contain=!!T.contain&&T.contain,U.base=T.base||'',Object.defineProperty(this,'root',{enumerable:!0,get:function(){return this.hash?'/#/':'/'}})}function m(){this.modules={}}function n(){}a.prototype.join=function(){return Array.prototype.join.call(arguments,'.').replace(/\.{2,}/g,'.').replace(/^\.|\.$/g,'')},a.prototype.isCollection=function(T){return T&&('Object'===T.constructor.name||'Array'===T.constructor.name)},a.prototype.defineSplice=function(T,U,V,W){var X=this;W[2]?(Array.prototype.splice.call(U,W[0],W[1]),X.emit(X.join(T),V)):Array.prototype.slice.call(W,2).forEach(function(Y){Y=X.defineCollection(T,Y),Array.prototype.splice.call(U,W[0],W[1],Y),V=X.defineProperty(T,U,V,U.length-1),X.emit(X.join(T),V)})},a.prototype.arrayPushUnshift=function(T,U,V,W,X){var Y=this;Array.prototype.forEach.call(X,function(Z){Z=Y.defineCollection(T,Z),Array.prototype[W].call(U,Z),V=Y.defineProperty(T,U,V,U.length-1),Y.emit(Y.join(T),V)})},a.prototype.arrayPopShift=function(T,U,V,W){var X=this;Array.prototype[W].call(U),Array.prototype.pop.call(V),X.emit(X.join(T),V)},a.prototype.defineArray=function(T,U,V){var W=this;return Object.defineProperties(V,{splice:{value:function(){return W.defineSplice(T,U,V,arguments)}},push:{value:function(){return W.arrayPushUnshift(T,U,V,'push',arguments)}},unshift:{value:function(){return W.arrayPushUnshift(T,U,V,'unshift',arguments)}},pop:{value:function(){return W.arrayPopShift(T,U,V,'pop')}},shift:{value:function(){return W.arrayPopShift(T,U,V,'shift')}}})},a.prototype.defineObject=function(T,U,V){var W=this;return Object.defineProperties(V,{set:{value:function(X,Y){W.isCollection(Y)&&(Y=W.defineCollection(W.join(T,X),Y)),U[X]=Y,V=W.defineProperty(T,U,V,X),W.emit(W.join(T,X),V[X])}},remove:{value:function(X){delete V[X],delete U[X],W.emit(W.join(T,X),void 0)}}})},a.prototype.defineProperty=function(T,U,V,W){var X=this;return Object.defineProperty(V,W,{enumerable:!0,configurable:!0,get:function(){return U[W]},set:function(Y){U[W]!==Y&&(Y===void 0?(delete U[W],delete V[W],X.emit(X.join(T,W),void 0)):(U[W]=X.defineCollection(X.join(T,W),Y),X.emit(X.join(T,W),V[W])))}})},a.prototype.defineCollection=function(T,U){var V=this;if(!V.isCollection(U))return U;var W=U?U.constructor.name:'',X=U.constructor(),Y=U.constructor();return'Object'===W?X=V.defineObject(T,Y,X):'Array'===W&&(X=V.defineArray(T,Y,X)),Object.keys(U).forEach(function(Z){void 0!==U[Z]&&(Y[Z]=V.defineCollection(V.join(T,Z),U[Z]),X=V.defineProperty(T,Y,X,Z))}),X},a.prototype.set=function(T,U){for(var Z,V=T.split('.'),W=V.length-1,X=this.data,Y=0;Y<W;Y++)Z=V[Y],void 0===X[Z]&&(X[Z]={}),X=X[Z];return X[V[W]]=U},a.prototype.get=function(T){for(var U=T.split('.'),V=U.length-1,W=this.data,X=0;X<V;X++){if(!W[U[X]])return;W=W[U[X]]}return W[U[V]]},a.prototype.listener=function(T){this.emit=T},a.prototype.run=function(T){this.data=this.defineCollection('',T)};b.prototype.get=function(T){for(var U=0;U<this.data.length;U++)if(T===this.data[U][0])return this.data[U][1]},b.prototype.remove=function(T){for(var U=0;U<this.data.length;U++)if(T===this.data[U][0])return this.data.splice(U,1)[0][1]},b.prototype.removeById=function(T){return this.data.splice(T,1)},b.prototype.has=function(T){for(var U=0;U<this.data.length;U++)if(T===this.data[U][0])return!0;return!1},b.prototype.set=function(T,U){for(var V=0;V<this.data.length;V++)if(T===this.data[V][0])return this.data[V][1]=U;return this.data[this.data.length]=[T,U]},b.prototype.push=function(T){return this.data[this.data.length]=[this.data.length,T],T},b.prototype.size=function(){return this.data.length},b.prototype.forEach=function(T,U){U=U||null;for(var V=0;V<this.data.length;V++)T.call(U,this.data[V][1],this.data[V][0],V,this.data)};var q=b;c.prototype.regexp={PATH:/\s?\|(.*?)$/,PREFIX:/(data-)?j-/,MODIFIERS:/^(.*?)\|\s?/,ATTRIBUTE_ACCEPTS:/(data-)?j-/,ELEMENT_ACCEPTS:/(data-)?j-/,ELEMENT_REJECTS_CHILDREN:/(data-)?j-each/,ELEMENT_REJECTS:/^\w+(-\w+)+|^iframe|^object|^script/},c.prototype.preview=function(T){return T.outerHTML.replace(/\/?>([\s\S])*/,'').replace(/^</,'')},c.prototype.eachElement=function(T,U){for(var V=0;V<T.length;V++){var W=T[V],X=this.preview(W);this.regexp.ELEMENT_REJECTS.test(X)?V+=W.querySelectorAll('*').length:this.regexp.ELEMENT_REJECTS_CHILDREN.test(X)?(V+=W.querySelectorAll('*').length,U.call(this,W)):this.regexp.ELEMENT_ACCEPTS.test(X)&&U.call(this,W)}},c.prototype.eachAttribute=function(T,U){Array.prototype.forEach.call(T.attributes,function(V){if(this.regexp.ATTRIBUTE_ACCEPTS.test(V.name)){var W={};W.name=V.name,W.value=V.value,W.path=W.value.replace(this.regexp.PATH,''),W.opts=W.path.split('.'),W.command=W.name.replace(this.regexp.PREFIX,''),W.cmds=W.command.split('-'),W.key=W.opts.slice(-1),W.modifiers=-1===W.value.indexOf('|')?[]:W.value.replace(this.regexp.MODIFIERS,'').split(' '),U.call(this,W)}},this)},c.prototype.unrenderAll=function(T){T='string'==typeof T?new RegExp(T):T,this.data.forEach(function(U,V){U.forEach(function(W){T.test(V)&&W.unrender()},this)},this)},c.prototype.renderAll=function(T){T='string'==typeof T?new RegExp(T):T,this.data.forEach(function(U,V){U.forEach(function(W){T.test(V)&&W.render()},this)},this)},c.prototype.removeOne=function(T){this.data.forEach(function(U,V,W){U.forEach(function(X,Y,Z){T===X.element&&(U.removeById(Z),0===U.size()&&this.data.removeById(W))},this)},this)},c.prototype.removeAll=function(T){Array.prototype.forEach.call(T,function(U){this.removeOne(U)},this)},c.prototype.addOne=function(T){var U=this;U.eachAttribute(T,function(V){U.data.has(V.path)||U.data.set(V.path,new q),U.emit(T,V)})},c.prototype.addAll=function(T){this.eachElement(T,function(U){this.addOne(U)})},c.prototype.listener=function(T){this.emit=T},c.prototype.run=function(T){this.elements=T,this.addAll(this.elements)};d.prototype.setByPath=function(T,U,V){for(var Z,W=U.split('.'),X=W.length-1,Y=0;Y<X;Y++)Z=W[Y],void 0===T[Z]&&(T[Z]={}),T=T[Z];return T[W[X]]=V},d.prototype.toCamelCase=function(T){return'Array'===T.constructor.name&&(T=T.join('-')),T.replace(/-[a-z]/g,function(U){return U[1].toUpperCase()})},d.prototype.renderMethods={on:function(){var T=this;T.eventName||(T.eventName=T.attribute.cmds[1],T.eventMethod=T.data.bind(T.model.data)),T.element.removeEventListener(T.eventName,T.eventMethod),T.element.addEventListener(T.eventName,T.eventMethod)},each:function(){var U,T=this;T.clone?T.element.children.length>T.data.length?(U=function(){T.element.children.length>T.data.length&&(T.view.removeAll(T.element.lastChild.getElementsByTagName('*')),T.view.removeOne(T.element.lastChild),T.element.removeChild(T.element.lastChild),window.requestAnimationFrame(U))},window.requestAnimationFrame(U)):T.element.children.length<T.data.length?(U=function(){T.element.children.length<T.data.length&&(T.element.insertAdjacentHTML('beforeend',T.clone.replace(T.pattern,'$1'+T.attribute.path+'.'+T.element.children.length+'$6')),T.view.addAll(T.element.lastChild.getElementsByTagName('*')),T.view.addOne(T.element.lastChild),window.requestAnimationFrame(U))},window.requestAnimationFrame(U)):!T.data&&(U=function(){T.element.lastChild&&(T.view.removeAll(T.element.lastChild.getElementsByTagName('*')),T.view.removeOne(T.element.lastChild),T.element.removeChild(T.element.lastChild),window.requestAnimationFrame(U))},window.requestAnimationFrame(U)):(T.variable=T.attribute.cmds.slice(1).join('.'),T.clone=T.element.removeChild(T.element.children[0]).outerHTML,T.pattern=new RegExp('(((data-)?j(-(\\w)+)+="))'+T.variable+'(((\\.(\\w)+)+)?((\\s+)?\\|((\\s+)?(\\w)+)+)?(\\s+)?")','g'),U=function(){T.data&&0!==T.data.length?T.element.children.length<T.data.length&&(T.element.insertAdjacentHTML('beforeend',T.clone.replace(T.pattern,'$1'+T.attribute.path+'.'+T.element.children.length+'$6')),T.view.addAll(T.element.lastChild.getElementsByTagName('*')),T.view.addOne(T.element.lastChild),window.requestAnimationFrame(U)):T.element.removeChild(T.element.lastChild)},window.requestAnimationFrame(U))},value:function(){var T=this;return T.change?void 0:'button'===T.element.type||'reset'===T.element.type?T.change=!0:void(T.change=function(){T.data='radio'!==T.element.type&&'checked'!==T.element.type?T.element.value:T.element.checked},T.element.addEventListener('change',T.change.bind(T),!0),T.element.addEventListener('keyup',T.change.bind(T),!0))},html:function(){var T=this;window.requestAnimationFrame(function(){T.element.innerHTML=T.data,T.view.addAll(T.element.getElementsByTagName('*'))})},css:function(){var T=this,U=this.data;1<T.attribute.cmds.length&&(U=T.attribute.cmds.slice(1).join('-')+': '+U+';'),window.requestAnimationFrame(function(){T.element.style.cssText+=U})},class:function(){var T=this,U=T.attribute.cmds.slice(1).join('-');window.requestAnimationFrame(function(){T.element.classList.toggle(U,T.data)})},text:function(){var T=this;window.requestAnimationFrame(function(){T.element.innerText=T.data})},enable:function(){var T=this;window.requestAnimationFrame(function(){T.element.disabled=!T.data})},disable:function(){var T=this;window.requestAnimationFrame(function(){T.element.disabled=T.data})},show:function(){var T=this;window.requestAnimationFrame(function(){T.element.hidden=!T.data})},hide:function(){var T=this;window.requestAnimationFrame(function(){T.element.hidden=T.data})},write:function(){var T=this;window.requestAnimationFrame(function(){T.element.readOnly=!T.data})},read:function(){var T=this;window.requestAnimationFrame(function(){T.element.readOnly=T.data})},selected:function(){var T=this;window.requestAnimationFrame(function(){T.element.selectedIndex=T.data})},default:function(){var T=this,U=T.toCamelCase(T.attribute.cmds);window.requestAnimationFrame(function(){T.setByPath(T.element,U,T.data)})}},d.prototype.unrenderMethods={on:function(){var T=this.attribute.cmds[1];this.element.removeEventListener(T,this.data,!1)},each:function(){var T=this,U=function(){T.element.removeChild(T.element.lastChild),T.element.lastChild&&window.requestAnimationFrame(U)};window.requestAnimationFrame(U)},value:function(){this.element.removeEventListener('change',this.change.bind(this)),this.element.removeEventListener('keyup',this.change.bind(this))},html:function(){var T=this;window.requestAnimationFrame(function(){T.element.innerText=''})},text:function(){var T=this;window.requestAnimationFrame(function(){T.element.innerText=''})},default:function(){}},d.prototype.unrender=function(){return this.unrenderMethod(),this},d.prototype.render=function(){return this.renderMethod(),this},d.prototype.create=function(T){return this.view=T.view,this.model=T.model,this.data=T.data,this.element=T.element,this.attribute=T.attribute,this.modifiers=T.modifiers,this.renderMethod=(this.renderMethods[this.attribute.cmds[0]]||this.renderMethods['default']).bind(this),this.unrenderMethod=(this.unrenderMethods[this.attribute.cmds[0]]||this.unrenderMethods['default']).bind(this),Object.defineProperty(this,'data',{enumerable:!0,configurable:!0,get:function(){var U=this.model.get(this.attribute.path);return this.modifiers.forEach(function(V){U=V.call(U)}),U},set:function(U){return this.model.set(this.attribute.path,U)}}),this.renderMethod(),this};var w=function(T){return new d().create(T)},z=function(T,U){var V=this;if(V.view=new c,V.model=new a,V._model=T.model||{},V._view=(T.view.shadowRoot||T.view).querySelectorAll('*'),V.name=T.name,V.modifiers=T.modifiers||{},V.model.listener(function(W,X){void 0===X?V.view.unrenderAll('^'+W+'.*'):V.view.renderAll('^'+W)}),V.view.listener(function(W,X){V.view.data.get(X.path).push(w({view:V.view,model:V.model,element:W,attribute:X,modifiers:X.modifiers.map(function(Y){return V.modifiers[Y]})}))}),'function'==typeof T.model)V._model.call(V,function(W){if(V._model=W,V.model.run(V._model),V.view.run(V._view),U)return U.call(V)});else if(V.model.run(V._model),V.view.run(V._view),U)return U.call(V)},A='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split(''),C=z,D=function(T){var V,U=[];if(T)for(V=0;V<T;V++)U[V]=A[0|Math.random()*T];else{var W;for(U[8]='-',U[13]='-',U[14]='4',U[18]='-',U[23]='-',V=0;36>V;V++)U[V]||(W=0|16*Math.random(),U[V]=A[19==V?8|3&W:W])}return U.join('')};h.prototype._comment=function(T){if('function'!=typeof T)throw new Error('Comment must be a function');var U=/\/\*!?(?:\@preserve)?[ \t]*(?:\r\n|\n)([\s\S]*?)(?:\r\n|\n)\s*\*\//,V=U.exec(T.toString());if(!V)throw new Error('Comment missing');return V[1]},h.prototype._dom=function(T){var U=document.createElement('div');return U.innerHTML=T,U.children[0]},h.prototype._template=function(T){return'Function'===T.constructor.name?(T=this._comment(T),T=this._dom(T)):'String'===T.constructor.name&&(/<|>/.test(T)?T=this._dom(T):T=this.currentScript.ownerDocument.querySelector(T)),T},h.prototype._define=function(){document.registerElement(this.name,{prototype:this.elementPrototype})};j.prototype.on=function(T,U){'object'!=typeof this.events[T]&&(this.events[T]=[]),this.events[T].push(U)},j.prototype.off=function(T,U){if('object'==typeof this.events[T]){var V=this.events[T].indexOf(U);-1<V&&this.events[T].splice(V,1)}},j.prototype.once=function(T,U){this.on(T,function V(){this.off(T,V),U.apply(this,arguments)})},j.prototype.emit=function(T){if('object'==typeof this.events[T])for(var U=this.events[T].slice(),V=[].slice.call(arguments,1),W=0,X=U.length;W<X;W++)U[W].apply(this,V)};var G=j;k.prototype=Object.create(G.prototype),k.prototype.constructor=k,k.prototype._popstate=function(T){this.navigate(T.state||window.location.href,!0)},k.prototype._click=function(T){var U=this;if(!(T.metaKey||T.ctrlKey||T.shiftKey)){for(var V=T.path?T.path[0]:T.target;V&&'A'!==V.nodeName;)V=V.parentNode;if(V&&'A'===V.nodeName){var W=V.getAttribute('href');if(U.external){if('Function'===U.external.constructor.name&&U.external(W))return;if('RegExp'===U.external.constructor.name&&U.external.test(W))return;if('String'===U.external.constructor.name&&new RegExp(U.external).test(W))return}V.hasAttribute('download')||V.hasAttribute('external')||-1!==W.indexOf('mailto:')||-1!==W.indexOf('tel:')||-1!==W.indexOf('file:')||-1!==W.indexOf('ftp:')||(T.preventDefault(),U.navigate(W))}}},k.prototype._load=function(T){if(this.view='string'==typeof this.view?document.querySelector(this.view):this.view,(this.contain?this.view:window).addEventListener('click',this._click.bind(this)),window.addEventListener('popstate',this._popstate.bind(this)),window.removeEventListener('DOMContentLoaded',this._load),this.navigate(window.location.href,!0),T)return T()},k.prototype.listen=function(T,U){if(T)for(var V in T)this[V]=T[V];'complete'===document.readyState||'loaded'===document.readyState?this._load(U):window.addEventListener('DOMContentLoaded',this._load.bind(this,U),!0)},k.prototype.normalize=function(T){return T=decodeURI(T).replace(/\/{2,}/g,'/').replace(/(http(s)?:\/)/,'$1/').replace(/\?.*?/,''),this.hash||(T=T.replace(/#.*?$/,'')),T=''===T?'/':T},k.prototype.parse=function(T){return new RegExp('^'+T.replace(/{\*}/g,'(?:.*)').replace(/{(\w+)}/g,'([^/]+)')+'(/)?$')},k.prototype.parameters=function(T,U){var V,W={},X=/{|}/g,Y=/{(\w+)}/,Z=U.split('/'),$=T.split('/');return $.forEach(function(aa,ba){Y.test(aa)&&(V=aa.replace(X,''),W[V]=Z[ba])}),W},k.prototype.join=function(){return this.normalize(Array.prototype.join.call(arguments,'/'))},k.prototype.scroll=function(T,U){window.scroll(T,U)},k.prototype.url=function(T){var U={};return U.path=T,U.base=this.base,U.root=this.root,U.origin=this.origin,0===U.path.indexOf(U.origin)&&(U.path=U.path.replace(U.origin,'')),0===U.path.indexOf(U.base)&&(U.path=U.path.replace(U.base,'')),0===U.path.indexOf(window.location.origin)&&(U.path=U.path.replace(window.location.origin,'')),0===U.path.indexOf(U.root)&&(U.path=U.path.replace(U.root,'/')),'/'!==U.path[0]&&(U.path=this.join(window.location.pathname.replace(this.base,''),U.path)),U.path=this.join(U.path,'/'),U.href=this.join(U.origin,U.base,U.root,U.path),U},k.prototype.render=function(T,U){var V=this,W=V.cache[T.component];T.title&&(document.title=T.title),T.cache===void 0||!0===T.cache?(W=V.cache[T.component],!W&&(W=V.cache[T.component]=document.createElement(T.component))):W=document.createElement(T.component),window.requestAnimationFrame(function(){return V.view.firstChild&&V.view.removeChild(V.view.firstChild),V.view.appendChild(W),U()})},k.prototype.redirect=function(T,U){return window.location.href=T,U()},k.prototype.add=function(T){var U=this;'Object'===T.constructor.name?U.routes.push(T):'Array'===T.constructor.name&&(U.routes=U.routes.concat(T))},k.prototype.remove=function(T){for(var U=this,V=0,W=U.routes.length;V<W;V++)if(T===U.routes[V].path)return U.routes.splice(V,1)},k.prototype.get=function(T){for(var X,U=this,V=0,W=U.routes.length;V<W;V++)if(X=U.routes[V],!X.path)continue;else if('String'===X.path.constructor.name){if(U.parse(X.path).test(T))return X.parameters=U.parameters(X.path,T),X;}else if('RegExp'===X.path.constructor.name){if(X.path.test(T))return X;}else if('Function'===X.path.constructor.name&&X.path(T))return X},k.prototype.navigate=function(T,U){var V=this;'string'==typeof T?(V.state.url=V.url(T),V.state.route=V.get(V.state.url.path)||{},V.state.parameters=V.state.route.parameters||{},V.state.title=V.state.route.title||''):V.state=T,window.history[U?'replaceState':'pushState'](V.state,V.state.route.title,V.state.url.href),V.state.route.redirect?V.redirect(V.state.route,function(){U||V.scroll(0,0),V.emit('navigated')}):V.render(V.state.route,function(){U||V.scroll(0,0),V.emit('navigated')})};m.prototype.load=function(T){T.forEach(function(U){var V=document.createElement('script');V.src=U,V.async=!1,V.type='text/javascript',document.head.appendChild(V)})},m.prototype.import=function(T){var U=this;if(T in U.modules)return'function'==typeof U.modules[T]?U.modules[T]():U.modules[T];throw new Error('module '+T+' is not defined')},m.prototype.export=function(T,U,V){var W=this;if(T in W.modules)throw new Error('module '+T+' is defined');else return'function'==typeof U&&(V=U,U=[]),'function'==typeof V&&U.forEach(function(X){V=V.bind(null,W.import(X))}),W.modules[T]=V};n.prototype.mime={html:'text/html',text:'text/plain',xml:'application/xml, text/xml',json:'application/json, text/javascript',urlencoded:'application/x-www-form-urlencoded',script:'text/javascript, application/javascript, application/x-javascript'},n.prototype.serialize=function(T){var U='';for(var V in T)U=0<U.length?U+'&':U,U=U+encodeURIComponent(V)+'='+encodeURIComponent(T[V]);return U},n.prototype.fetch=function(T){var U=this;if(T=T?T:{},T.action=T.action?T.action:window.location.href,T.method=T.method?T.method.toUpperCase():'GET',T.headers=T.headers?T.headers:{},T.data)if('GET'===T.method)T.action=T.action+'?'+U.serialize(T.data),T.data=null;else{switch(T.requestType=T.requestType?T.requestType.toLowerCase():'',T.responseType=T.responseType?T.responseType.toLowerCase():'',T.requestType){case'script':T.contentType=U.mime.script;break;case'json':T.contentType=U.self.mime.json;break;case'xml':T.contentType=U.mime.xm;break;case'html':T.contentType=U.mime.html;break;case'text':T.contentType=U.mime.text;break;default:T.contentType=U.mime.urlencoded;}switch(T.responseType){case'script':T.accept=U.mime.script;break;case'json':T.accept=U.mime.json;break;case'xml':T.accept=U.mime.xml;break;case'html':T.accept=U.mime.html;break;case'text':T.accept=U.mime.text;}T.contentType===U.mime.json&&(T.data=JSON.stringify(T.data)),T.contentType===U.mime.urlencoded&&(T.data=U.serialize(T.data))}var V=new XMLHttpRequest;if(V.open(T.method,T.action,!0,T.username,T.password),T.mimeType&&V.overrideMimeType(T.mimeType),T.withCredentials&&(V.withCredentials=T.withCredentials),T.accept&&(T.headers.Accept=T.accept),T.contentType&&(T.headers['Content-Type']=T.contentType),T.headers)for(var W in T.headers)V.setRequestHeader(W,T.headers[W]);V.onreadystatechange=function(){if(4===V.readyState)return 200<=V.status&&400>V.status?T.success(V):T.error(V)},V.send(T.data)};var Q=document.createElement('style'),R=document.createTextNode('j-view, j-view > :first-child { display: block; }');Q.appendChild(R),document.head.appendChild(Q),document.registerElement('j-view',{prototype:Object.create(HTMLElement.prototype)});var S={services:{},http:new n,module:new m,router:new k,setup:function(T,U){var V=this;T.module&&T.module.forEach(function(W){V.module.export.apply(V,W)}),V.router.listen(T.router,function(){return U()})},component:function(T){return new h(T)},binder:function(T,U){return new z(T,U)},script:function(){return document._currentScript||document.currentScript},document:function(){return(document._currentScript||document.currentScript).ownerDocument},element:function(T){return(document._currentScript||document.currentScript).ownerDocument.createElement(T)},query:function(T){return(document._currentScript||document.currentScript).ownerDocument.querySelector(T)}};return S});